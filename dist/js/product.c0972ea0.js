(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["product"],{"0eaf":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"simple-header"},[a("i",{staticClass:"iconfont icon-back",on:{click:t.goBack}}),a("div",{staticClass:"simple-header-name"},[t._v(t._s(t.name))]),a("i",{staticClass:"iconfont icon-menu"})])},r=[],o={props:{name:{type:String,default:""},back:{type:String,default:""}},methods:{goBack:function(){this.back?this.$router.push({path:this.back}):this.$router.go(-1),this.$emit("callback")}}},i=o,s=(a("ed0b"),a("2877")),c=Object(s["a"])(i,n,r,!1,null,"123edaf7",null);e["a"]=c.exports},"1dde":function(t,e,a){var n=a("d039"),r=a("b622"),o=a("2d00"),i=r("species");t.exports=function(t){return o>=51||!n((function(){var e=[],a=e.constructor={};return a[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"30bf":function(t,e,a){},"360d":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return i}));var n=a("a27e");function r(){return n["a"].get("/categories")}function o(t){return n["a"].get("/search",{params:t})}function i(t){return n["a"].get("/goods/detail/".concat(t))}},"4de4":function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").filter,o=a("1dde"),i=o("filter");n({target:"Array",proto:!0,forced:!i},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"5f47":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-detail"},[a("s-header",{attrs:{name:"商品详情"}}),a("div",{staticClass:"detail-content"},[a("div",{staticClass:"detail-swipe-wrap"},[a("van-swipe",{staticClass:"my-swipe",attrs:{"indicator-color":"#1baeae"}},t._l(t.detailSlideImgs,(function(e,n){return a("van-swipe-item",{key:n},[a("img",{attrs:{src:t.getRealImg(e)}})])})),1)],1),a("div",{staticClass:"product-info"},[a("div",{staticClass:"product-title"},[t._v(" "+t._s(t.detailData.goodsName)+" ")]),a("div",{staticClass:"product-desc"},[t._v("包邮 随机快递")]),a("div",{staticClass:"product-price"},[a("span",[t._v("¥"+t._s(t.detailData.sellingPrice))])])]),a("div",{staticClass:"product-intro"},[t._m(0),a("div",{staticClass:"product-content",domProps:{innerHTML:t._s(t.detailData.goodsDetailContent)}})])]),a("van-goods-action",[a("van-goods-action-icon",{attrs:{icon:"shop-o",text:"店铺"}}),a("van-goods-action-icon",{attrs:{icon:"chat-o",text:"客服"}}),a("van-goods-action-icon",{attrs:{"icon-class":t.isAddingCart?"shake-icon":"",icon:"bag-o",badge:t.count?t.count:"",text:"购物袋"},on:{click:function(e){return t.goTo()}}}),a("van-goods-action-button",{attrs:{type:"warning",text:"加入购物袋"},on:{click:t.addToCart}}),a("van-goods-action-button",{attrs:{type:"danger",text:"立即购买"},on:{click:t.goToCart}})],1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[t._v("概述")]),a("li",[t._v("参数")]),a("li",[t._v("安装服务")]),a("li",[t._v("常见问题")])])}],o=a("1da1"),i=(a("4de4"),a("d3b7"),a("96cf"),a("0eaf")),s=a("8ee6"),c=a("360d"),u={name:"ProductDetail",data:function(){return{detailData:{},detailSlideImgs:[],isAddingCart:!1,cartItemId:0}},components:{sHeader:i["a"]},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.id,e.next=3,Object(c["b"])(a);case 3:n=e.sent,r=n.data,t.detailData=r,t.detailSlideImgs=r.goodsCarouselList;case 7:case"end":return e.stop()}}),e)})))()},methods:{goBack:function(){this.$router.go(-1)},goTo:function(){this.$router.push({path:"/cart"})},addToCart:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,r,o,i,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isAddingCart=!0,a=t.detailData.goodsId,e.next=4,Object(s["d"])({pageNumber:1});case 4:if(n=e.sent,r=n.data,o=r.filter((function(t){return t.goodsId===a}))[0],o){e.next=15;break}return e.next=10,Object(s["a"])({goodsCount:1,goodsId:t.detailData.goodsId});case 10:i=e.sent,c=i.resultCode,200===c&&t.$toast.success("添加成功"),e.next=18;break;case 15:return u={cartItemId:o.cartItemId,goodsCount:++o.goodsCount},e.next=18,Object(s["e"])(u);case 18:t.$store.dispatch("updateCart"),setTimeout((function(){t.isAddingCart=!1}),400);case 20:case"end":return e.stop()}}),e)})))()},goToCart:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.addToCart();case 2:t.$store.dispatch("updateCart"),t.$router.push({path:"/cart"});case 4:case"end":return e.stop()}}),e)})))()}},computed:{count:function(){return this.$store.state.cartCount}}},d=u,l=(a("843d"),a("2877")),f=Object(l["a"])(d,n,r,!1,null,"12a1321b",null);e["default"]=f.exports},"606c":function(t,e,a){},"843d":function(t,e,a){"use strict";a("30bf")},ed0b:function(t,e,a){"use strict";a("606c")}}]);